# ============================================
# MAIAChat v2 - PRODUCTION Environment Variables
# ============================================
# For Coolify/VPS Deployment
# Copy these values to your Coolify environment variables
# ============================================

# ============================================
# REQUIRED - Application Settings
# ============================================
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://your-domain.com
NEXT_PUBLIC_APP_VERSION=2.0.0

# ============================================
# REQUIRED - Database (PostgreSQL with pgvector)
# ============================================
# Coolify managed PostgreSQL or external database
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://maiachat:YOUR_SECURE_PASSWORD@postgres:5432/maiachat

# For Coolify managed PostgreSQL, these may be auto-generated:
POSTGRES_USER=maiachat
POSTGRES_PASSWORD=YOUR_SECURE_PASSWORD
POSTGRES_DB=maiachat

# ============================================
# REQUIRED - Redis (Rate Limiting & Cache)
# ============================================
# Coolify managed Redis or external Redis
# Format: redis://[:password@]host:port
REDIS_URL=redis://redis:6379

# If using Redis with password:
# REDIS_URL=redis://:YOUR_REDIS_PASSWORD@redis:6379
# REDIS_PASSWORD=YOUR_REDIS_PASSWORD

# ============================================
# REQUIRED - Encryption Key
# ============================================
# Generate with: openssl rand -base64 32
# CRITICAL: Keep this key safe! Losing it means losing access to encrypted API keys
ENCRYPTION_KEY=GENERATE_A_32_BYTE_BASE64_KEY_HERE

# ============================================
# REQUIRED - Better Auth
# ============================================
# Generate with: openssl rand -base64 32
# CRITICAL: Use a unique secret per environment. Do NOT reuse dev secrets.
BETTER_AUTH_SECRET=GENERATE_A_SECRET_HERE

# Google OAuth (optional)
# Get from: Google Cloud Console > APIs & Services > Credentials > OAuth 2.0 Client
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# ============================================
# OPTIONAL - AI Provider API Keys (Fallback)
# ============================================
# Users will use their own API keys, but you can set defaults
# These are used when users don't have their own keys configured

# OpenAI - https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-...

# Anthropic - https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-...

# Google AI - https://aistudio.google.com/app/apikey
GOOGLE_AI_API_KEY=AIza...

# X.ai (Grok) - https://x.ai/api
XAI_API_KEY=xai-...

# OpenRouter - https://openrouter.ai/keys
OPENROUTER_API_KEY=sk-or-...

# ============================================
# OPTIONAL - S3-Compatible Storage (for documents)
# ============================================
# Option 1: AWS S3
# MINIO_ENDPOINT=s3.amazonaws.com
# MINIO_PORT=443
# MINIO_USE_SSL=true
# MINIO_ACCESS_KEY=YOUR_AWS_ACCESS_KEY
# MINIO_SECRET_KEY=YOUR_AWS_SECRET_KEY
# MINIO_BUCKET=maiachat-documents

# Option 2: Coolify/Self-hosted MinIO
MINIO_ENDPOINT=minio
MINIO_PORT=9000
MINIO_USE_SSL=false
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=YOUR_MINIO_SECRET_KEY
MINIO_BUCKET=maiachat

# Option 3: Cloudflare R2 (S3-compatible)
# MINIO_ENDPOINT=YOUR_ACCOUNT_ID.r2.cloudflarestorage.com
# MINIO_PORT=443
# MINIO_USE_SSL=true
# MINIO_ACCESS_KEY=YOUR_R2_ACCESS_KEY
# MINIO_SECRET_KEY=YOUR_R2_SECRET_KEY
# MINIO_BUCKET=maiachat

# ============================================
# OPTIONAL - Error Tracking (Sentry)
# ============================================
# Get DSN from: https://sentry.io > Your Project > Settings > Client Keys
SENTRY_DSN=https://xxxxx@o123456.ingest.sentry.io/123456
NEXT_PUBLIC_SENTRY_DSN=https://xxxxx@o123456.ingest.sentry.io/123456

# For source map uploads (optional)
# SENTRY_AUTH_TOKEN=your-sentry-auth-token
# SENTRY_ORG=your-org
# SENTRY_PROJECT=maiachat

# ============================================
# OPTIONAL - Docker Build Settings
# ============================================
# Set to "true" to build standalone output for Docker
DOCKER=true

# ============================================
# SECURITY NOTES
# ============================================
# 1. NEVER commit real values to version control
# 2. Use Coolify's secret management for sensitive values
# 3. Rotate ENCRYPTION_KEY periodically (requires re-encrypting API keys)
# 4. Keep BETTER_AUTH_SECRET secure and unique per environment
# 5. Use strong passwords for PostgreSQL and Redis

# ============================================
# COOLIFY-SPECIFIC NOTES
# ============================================
# 1. If using Coolify managed PostgreSQL:
#    - The DATABASE_URL will be auto-generated
#    - Make sure to enable pgvector extension manually:
#      CREATE EXTENSION IF NOT EXISTS vector;
#
# 2. If using Coolify managed Redis:
#    - The REDIS_URL will be auto-generated
#
# 3. Build command: npm run build
# 4. Start command: npm start
# 5. Port: 3000

# ============================================
# QUICK SETUP CHECKLIST
# ============================================
# [ ] PostgreSQL database created with pgvector extension
# [ ] Redis instance running
# [ ] BETTER_AUTH_SECRET generated (openssl rand -base64 32)
# [ ] ENCRYPTION_KEY generated (openssl rand -base64 32)
# [ ] Domain configured and SSL enabled
# [ ] NEXT_PUBLIC_APP_URL set to your production domain
# [ ] Environment variables set in Coolify
# [ ] (Optional) Google OAuth credentials configured
GOOGLE_OAUTH_CLIENT_ID=your-client-id
GOOGLE_OAUTH_CLIENT_SECRET=your-client-secret