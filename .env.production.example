# ============================================
# MaiaChat v2 - PRODUCTION Environment Variables
# ============================================
# For Coolify/VPS Deployment
# Copy these values to your Coolify environment variables
# ============================================

# ============================================
# REQUIRED - Application Settings
# ============================================
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://your-domain.com
NEXT_PUBLIC_APP_VERSION=2.0.0

# ============================================
# REQUIRED - Database (PostgreSQL with pgvector)
# ============================================
# Coolify managed PostgreSQL or external database
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://maiachat:YOUR_SECURE_PASSWORD@postgres:5432/maiachat

# For Coolify managed PostgreSQL, these may be auto-generated:
POSTGRES_USER=maiachat
POSTGRES_PASSWORD=YOUR_SECURE_PASSWORD
POSTGRES_DB=maiachat

# ============================================
# REQUIRED - Redis (Rate Limiting & Cache)
# ============================================
# Coolify managed Redis or external Redis
# Format: redis://[:password@]host:port
REDIS_URL=redis://redis:6379

# If using Redis with password:
# REDIS_URL=redis://:YOUR_REDIS_PASSWORD@redis:6379

# ============================================
# REQUIRED - Encryption Key
# ============================================
# Generate with: openssl rand -base64 32
# CRITICAL: Keep this key safe! Losing it means losing access to encrypted API keys
ENCRYPTION_KEY=GENERATE_A_32_BYTE_BASE64_KEY_HERE

# ============================================
# REQUIRED - Better Auth
# ============================================
# Generate with: openssl rand -base64 32
# CRITICAL: Use a unique secret per environment. Do NOT reuse dev secrets.
BETTER_AUTH_SECRET=GENERATE_A_SECRET_HERE

# Google OAuth (optional - enables "Sign in with Google")
# Get from: Google Cloud Console > APIs & Services > Credentials > OAuth 2.0 Client
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Admin emails (comma-separated) - auto-promoted to admin on login
ADMIN_EMAILS=admin@example.com

# ============================================
# OPTIONAL - Google Integration (Gmail, Calendar)
# ============================================
# Separate from auth â€” enables the email/calendar tools
# Redirect URI: https://your-domain.com/api/integrations/google/callback
GOOGLE_OAUTH_CLIENT_ID=your-client-id
GOOGLE_OAUTH_CLIENT_SECRET=your-client-secret

# ============================================
# OPTIONAL - AI Provider API Keys (Fallback)
# ============================================
# Users add their own keys in Settings > API Keys.
# These are fallback keys when users don't have their own configured.

# OpenAI - https://platform.openai.com/api-keys
OPENAI_API_KEY=

# Anthropic - https://console.anthropic.com/
ANTHROPIC_API_KEY=

# Google AI (Gemini) - https://aistudio.google.com/app/apikey
# Two env vars: GOOGLE_GENERATIVE_AI_API_KEY (chat) + GOOGLE_AI_API_KEY (embeddings)
# You can set both to the same key.
GOOGLE_GENERATIVE_AI_API_KEY=
GOOGLE_AI_API_KEY=

# X.ai (Grok) - https://x.ai/api
XAI_API_KEY=

# OpenRouter - https://openrouter.ai/keys
OPENROUTER_API_KEY=

# ============================================
# OPTIONAL - S3-Compatible Storage (for documents)
# ============================================
# Works with AWS S3, Cloudflare R2, self-hosted MinIO, or any S3-compatible store.
# S3_* variables are preferred; legacy MINIO_* variables are also supported.

# Example: Self-hosted MinIO via Coolify
S3_ENDPOINT=https://minio.your-domain.com
S3_REGION=us-east-1
S3_ACCESS_KEY=YOUR_S3_ACCESS_KEY
S3_SECRET_KEY=YOUR_S3_SECRET_KEY
S3_BUCKET=maiachat-documents

# Example: AWS S3
# S3_ENDPOINT=https://s3.amazonaws.com
# S3_REGION=us-east-1

# Example: Cloudflare R2
# S3_ENDPOINT=https://YOUR_ACCOUNT_ID.r2.cloudflarestorage.com
# S3_REGION=auto

# ============================================
# OPTIONAL - Error Tracking (Sentry)
# ============================================
# Get DSN from: https://sentry.io > Your Project > Settings > Client Keys
SENTRY_DSN=
NEXT_PUBLIC_SENTRY_DSN=

# For source map uploads (optional)
# SENTRY_AUTH_TOKEN=your-sentry-auth-token
# SENTRY_ORG=your-org
# SENTRY_PROJECT=maiachat

# ============================================
# OPTIONAL - Docker Build Settings
# ============================================
# Set to "true" to build standalone output for Docker
DOCKER=true

# ============================================
# SECURITY NOTES
# ============================================
# 1. NEVER commit real values to version control
# 2. Use Coolify's secret management for sensitive values
# 3. Rotate ENCRYPTION_KEY periodically (requires re-encrypting API keys)
# 4. Keep BETTER_AUTH_SECRET secure and unique per environment
# 5. Use strong passwords for PostgreSQL and Redis

# ============================================
# COOLIFY-SPECIFIC NOTES
# ============================================
# 1. If using Coolify managed PostgreSQL:
#    - The DATABASE_URL will be auto-generated
#    - Make sure to enable pgvector extension manually:
#      CREATE EXTENSION IF NOT EXISTS vector;
#
# 2. If using Coolify managed Redis:
#    - The REDIS_URL will be auto-generated
#
# 3. Build command: npm run build
# 4. Start command: npm start
# 5. Port: 3000

# ============================================
# QUICK SETUP CHECKLIST
# ============================================
# [ ] PostgreSQL database created with pgvector extension
# [ ] Redis instance running
# [ ] BETTER_AUTH_SECRET generated (openssl rand -base64 32)
# [ ] ENCRYPTION_KEY generated (openssl rand -base64 32)
# [ ] Domain configured and SSL enabled
# [ ] NEXT_PUBLIC_APP_URL set to your production domain
# [ ] ADMIN_EMAILS set to your email
# [ ] Environment variables set in Coolify
# [ ] (Optional) Google OAuth credentials configured
# [ ] (Optional) S3 storage configured for document uploads
